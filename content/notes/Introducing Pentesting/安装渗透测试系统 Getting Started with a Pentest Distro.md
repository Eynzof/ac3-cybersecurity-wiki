---
title: "安装渗透测试系统 Getting Started with a Pentest Distro"
---


安装渗透测试系统
====================

* * *

任何希望在信息安全领域开始技术之路的人都必须熟悉各种技术和操作系统。作为渗透测试人员，我们必须了解如何设置、维护和保护Linux和Windows攻击机器。根据客户环境或评估范围的不同，我们可能会在我们的机器上使用Linux或Windows虚拟机，作为基本操作系统，使用云Linux服务器，在客户环境内安装虚拟机，或者甚至直接从客户拥有的工作站上进行测试以模拟内部威胁（假设遭受入侵的情况）。

* * *

选择一个发行版
----------------

有许多用于渗透测试的Linux发行版（distros）。有一些基于Debian的预先存在的distros，预装了我们进行评估所需的许多工具。这些工具中很多很少需要使用，并且没有任何一个distro包含我们进行评估所需的所有工具。随着我们在职业生涯中的学习和进步，我们会倾向于特定的工具，并拥有一个要添加到新distro中的“必备清单”。随着我们的进步，我们甚至可能更喜欢从Debian或Ubuntu基础映像完全自定义我们自己的渗透测试虚拟机，但是建立一个完全自定义的虚拟机超出了本模块的范围。

选择发行版是个人的选择，并且正如前面提到的，我们甚至可以选择从头开始创建和维护自己的发行版。有无数个用途的Linux发行版，有些专门定制用于渗透测试，还有一些面向Web应用程序渗透测试、取证等。

本节将介绍设置和使用[Parrot OS](https://parrotlinux.org)。这个发行版用于我们在整个学院中将看到的Pwnbox，我们可以在各个模块中进行练习和解决练习题。

![pwnbox](https://www.hackthebox.eu/images/press/pwnboxv2/1.jpg)

需要注意的是，每次渗透测试或安全评估必须从全新安装的虚拟机上执行，以避免意外在报告中包含来自其他客户环境的与安全相关的详细信息，或者长时间保留客户敏感数据。因此，我们必须具备快速搭建新渗透测试机器的能力，并为我们进行的每次评估选择的发行版建立流程（自动化、脚本、详细步骤等）。

* * *

设置渗透测试发行版
------------------

有多种方法可以设置我们的本地渗透测试发行版。我们可以将其安装为我们的基本操作系统（不推荐），安装双系统（在操作系统之间来回切换耗时），或者使用虚拟机。

我们有很多选项可供选择：在Windows上使用[Hyper-V](https://docs.microsoft.com/zh-cn/virtualization/hyper-v-on-windows/about/)，进行[裸金属虚拟化](https://www.vmware.com/topics/glossary/content/bare-metal-hypervisor)，例如[Proxmox](https://proxmox.com/en/)或[VMware ESXi](https://www.vmware.com/products/esxi-and-esx.html)，或使用免费的虚拟化程序，如[VirtualBox](https://www.virtualbox.org)，或[VMware Workstation Player](https://www.vmware.com/products/workstation-player.html)，这些虚拟化程序可以在Windows和Linux操作系统上安装和使用。  

另一个选择是[VMware Workstation](https://www.vmware.com/products/workstation-pro.html)，不过这是一个付费软件。

`虚拟化程序`是一种允许我们创建和运行虚拟机（VMs）的软件。它使我们能够通过虚拟共享内存和处理资源，利用我们的主机计算机（台式机或笔记本电脑）运行多个虚拟机。  
在虚拟化程序上运行的虚拟机与主操作系统隔离，这在我们的生产网络和易受攻击的网络（如Hack The Box）之间提供了一层隔离和保护，或者在从虚拟机连接到客户环境时使用（尽管虚拟机越狱漏洞不时会出现）。

根据主机系统的资源量（例如，RAM），我们通常可以同时运行几个虚拟机。在评估期间，快速搭建一个虚拟机进行测试漏洞利用或尝试重新创建目标应用程序，并在实验室环境中搭建机器来测试最新的工具、漏洞和技术，通常是很有帮助的。对于从事网络安全行业的人来说，应该熟悉至少一个虚拟化软件，并能够熟练地为工作和实践构建虚拟机。

要取得成功，我们必须不断努力提升自己的技能。一个很好的方式是搭建一个家庭实验室，尝试复现漏洞，设置易受攻击的应用程序和服务，观察纠正建议的效果，并有一个安全的地方来实践新的攻击技术/利用。我们可以在旧笔记本电脑或台式机上构建自己的实验室，但最好使用服务器来安装裸金属虚拟化程序。

![parrotos](https://academy.hackthebox.com/storage/modules/77/notebook.png)

为了我们的目的，我们将使用修改版的Parrot Security（Pwnbox），在[这里](https://parrotlinux.org/download/)下载系统。我们可以选择两种格式：

* `光盘映像（ISO）`
* `开放虚拟设备（OVA）`

#### ISO

`ISO`文件本质上只是一个可以在我们选择的虚拟化程序中挂载的CD-ROM，通过自己安装操作系统来构建虚拟机。`ISO`提供了更多的自定义空间，例如键盘布局、区域设置、桌面环境切换、自定义分区等，因此在设置攻击虚拟机时可以更加细致。

#### OVA

`OVA`文件是一个预构建的虚拟设备，其中包含一个指定虚拟机硬件设置的`OVF` XML文件和一个操作系统安装在其中的`VMDK`虚拟磁盘。`OVA`是预构建的，因此可以快速部署，以便更快地启动和运行。

启动和运行后，我们可以开始探索操作系统，熟悉工具，并进行任何所需的自定义。Parrot Linux团队维护着各种有用的文档：

* [什么是Parrot？](https://www.parrotsec.org/docs/introduction/what-is-parrot)
* [安装](https://www.parrotsec.org/docs/installation/)
* [配置](https://www.parrotsec.org/docs/configuration/parrot-software-management)

如果有其他问题，Parrot团队还维护着一个[论坛](https://community.parrotsec.org/c/support/6)。

* * *

总结
----

在渗透测试领域，熟悉并了解如何设置、维护和使用渗透测试发行版是至关重要的。选择一个合适的发行版，如[[notes/Introducing Pentesting/Parrot Security]]，可以提供我们所需的工具和环境，使我们能够进行渗透测试和安全评估。使用虚拟化程序将我们的发行版隔离在虚拟机中，可以提供更好的安全性和灵活性。

无论我们选择哪种发行版和设置方式，持续学习和实践是成为一名成功的渗透测试人员的关键。通过搭建实验室、参加CTF比赛、解决挑战题等方式，我们可以不断提升自己的技能，并掌握新的工具和技术。